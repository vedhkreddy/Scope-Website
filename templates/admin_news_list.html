{% extends 'base.html' %}
{% block content %}
<div class="card" style="max-width: 900px; margin: 2.5rem auto 0 auto;">
    <h2>Manage Science in the News</h2>
    <a href="{{ url_for('admin_news_add') }}" class="button-red" style="margin-bottom:1.5em;">Add New Article</a>
    <table style="width:100%; margin-top:1.5em; border-collapse:collapse;">
        <thead>
            <tr style="border-bottom:1.5px solid #222;">
                <th style="text-align:left; padding:0.5em;">Title</th>
                <th style="text-align:left; padding:0.5em;">Author</th>
                <th style="text-align:left; padding:0.5em;">Date</th>
                <th style="text-align:left; padding:0.5em;">Image</th>
                <th style="text-align:left; padding:0.5em;">Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for n in news %}
            <tr style="border-bottom:1px solid #eee;">
                <td style="padding:0.5em;">{{ n.title }}</td>
                <td style="padding:0.5em;">{{ n.author }}</td>
                <td style="padding:0.5em;">{{ n.date }}</td>
                <td style="padding:0.5em;">
                    {% if n.image_url %}<img src="{{ n.image_url }}" alt="banner" style="height:40px; border-radius:4px;">{% endif %}
                </td>
                <td style="padding:0.5em;">
                    <a href="{{ url_for('admin_news_edit', news_id=n.id) }}" class="button-red" style="padding:0.3em 0.7em; font-size:0.95em;">Edit</a>
                    <form method="post" action="{{ url_for('admin_news_delete', news_id=n.id) }}" style="display:inline;">
                        <button type="submit" class="button-red" style="background:#fff; color:#c62828; border:1.5px solid #c62828; padding:0.3em 0.7em; font-size:0.95em; margin-left:0.5em;">Delete</button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr><td colspan="5" style="padding:1.5em; color:#888; text-align:center;">No articles yet.</td></tr>
        {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('admin') }}" class="button-red" style="margin-top:2em;">Back to Dashboard</a>
</div>
{% endblock %}
