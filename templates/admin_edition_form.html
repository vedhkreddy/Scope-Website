{% extends 'base.html' %}
{% block content %}
<div class="card" style="max-width:500px;margin:2.5rem auto 0 auto;">
    <h2>Edit Main Edition Info</h2>
    <form method="post" enctype="multipart/form-data">
        <label>Current Edition<br>
            <input type="text" name="current_edition" value="{{ current_edition }}" required style="width:100%;padding:0.6em;margin-bottom:1em;">
        </label>
        <label>Current Edition Title<br>
            <input type="text" name="current_edition_title" value="{{ current_edition_title }}" required style="width:100%;padding:0.6em;margin-bottom:1em;">
        </label>
        <label>Edition PDF<br>
          {% if current_edition_pdf_url %}
            <a href="{{ current_edition_pdf_url }}" target="_blank" style="color:#c62828;font-size:0.98em;">View current PDF</a><br>
          {% endif %}
          <input type="file" name="pdf" accept="application/pdf" style="width:100%;padding:0.6em;margin-bottom:1em;">
        </label>
        <div style="margin-top:1.5em;">
          <button type="submit" class="button-red">Save</button>
          <a href="{{ url_for('admin') }}" class="button-red" style="background:#fff;color:#c62828;border:1.5px solid #c62828;margin-left:1em;">Cancel</a>
        </div>
    </form>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div style="margin-top:1em;">
        {% for category, message in messages %}
          <div style="color: #c62828; font-weight: 500;">{{ message }}</div>
        {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
</div>
{% endblock %}
